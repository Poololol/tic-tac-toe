<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PyScript Example with Pygame-CE</title>
  <link rel="stylesheet" href="https://pyscript.net/snapshots/2024.9.2/core.css"/>
  <script type="module" src="https://pyscript.net/snapshots/2024.9.2/core.js"></script>
</head>
<body>
  <h1>PyScript Example with Pygame-CE</h1>

  <!-- 使用 <py-config> 标签指定需要安装的库 -->
  <py-config>
  {
      "packages": ["pygame-ce"]
  }
  </py-config>

  <!-- PyScript 标签，用于编写 Python 代码 -->
  <py-script>
    import asyncio

    async def main():
        import pygame

        # 初始化 Pygame
        pygame.init()
        screen = pygame.display.set_mode((640, 480))
        pygame.display.set_caption("Pygame-CE in PyScript")

        # 绘制一个简单的图形
        running = True
        while running:
            for event in pygame.event.get():
                if event.type == pygame.QUIT:
                    running = False

            screen.fill((255, 255, 255))
            pygame.draw.circle(screen, (0, 0, 255), (320, 240), 50)
            pygame.display.flip()

        pygame.quit()

    asyncio.ensure_future(main())
  </py-script>
</body>
</html>
